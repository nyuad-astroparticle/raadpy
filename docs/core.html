<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.8.1" />
<title>raadpy.core API documentation</title>
<meta name="description" content="" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>raadpy.core</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#############################
#     RAAD CORE Library     #
#############################

# Import necessary Libraries
from astropy.time import Time, TimeDelta
import matplotlib.pyplot as plt
import matplotlib.cm as cm
from matplotlib.ticker import AutoMinorLocator
from matplotlib.colors import to_hex
import plotly.graph_objects as go
import pandas as pd
import numpy as np
import datetime as dt
from lxml import html
from gzip import decompress
from tqdm.notebook import tqdm
import json
import requests
from requests.auth import HTTPBasicAuth
from requests.auth import HTTPDigestAuth
from requests_oauthlib import OAuth1
import os
import csv
from IPython.display import clear_output as clear

##################################################################################
# Useful Constants
##################################################################################
data_dir        = &#39;../../Data/RAW/&#39;        # Filename with directories
BYTE            = 8                        # Byte length
ORBIT_STRUCT    = {
    &#39;timestamp&#39;     : 32,
    &#39;temperature&#39;   : 8,
    &#39;rate0&#39;         : 12,
    &#39;rate1&#39;         : 12,
    &#39;rate2&#39;         : 12,
    &#39;rate3&#39;         : 12,
    &#39;ratev&#39;         : 8,
    &#39;hv_level&#39;      : 12,
    &#39;veto_level&#39;    : 12,
    &#39;id_bit&#39;        : 1,
    &#39;pps_active&#39;    : 1,
    &#39;suspended&#39;     : 1,
    &#39;power_on&#39;      : 1,
    &#39;scenario&#39;      : 4,
}

VETO_STRUCT     = {
    &#39;channel&#39;       : 2,
    &#39;adc_counts&#39;    : 14,
    &#39;veto&#39;          : 8,
    &#39;stimestamp&#39;    : 40, 
}

NONVETO_STRUCT  = {
    &#39;channel&#39;       : 2,
    &#39;adc_counts&#39;    : 10,
    &#39;stimestamp&#39;    : 36,
}

TGF_STRUCT={
    &#39;stimestamp&#39;: 48,
    &#39;channel&#39;: 2,
    &#39;adc_counts&#39;: 14,
}

ORBIT_UNITS     = [&#39;(s)&#39;,&#39;(C)&#39;,&#39;(Hz)&#39;,&#39;(Hz)&#39;,&#39;(Hz)&#39;,&#39;(Hz)&#39;,&#39;(Hz)&#39;,&#39;(DAC ch)&#39;,&#39;(DAC ch)&#39;,&#39;(PMT 0 - SiPM 1)&#39;,&#39;(OFF 0 - ON 1)&#39;,&#39; &#39;,&#39; &#39;,&#39; &#39;]
VETO_UNITS      = [&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;(ms)&#39;]
NONVETO_UNITS   = [&#39;&#39;,&#39;&#39;,&#39;(ms)&#39;]

HOST            = &#34;https://light1.mcs.nanoavionics.com&#34;
TOKEN           = &#34;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoia2hhbGlmYSIsImV4cCI6MTcwNDA2NzIwMCwiZW1haWwiOiJhZGcxMUBueXUuZWR1In0.LiV8bfKb2JUG2eIIxouXKebQpPFLXewO1BqoOD22xS4&#34;

##################################################################################
# Helper functions
##################################################################################

# helper function to convert longitude in range -180 to 180
def in_range(longitude):
    return longitude if longitude &lt;= 180 else longitude - 360

# Get a list and return its unique elements
def unique(l:list):
    return list(dict.fromkeys(l))

# Get an astropy time object, and return a string with the timestamp in epoch
def get_epoch_date(date_time):
    # Convert to datetime
    date = date_time.to_datetime()
    date = dt.datetime(date.year,date.month,date.day)

    # Return a string with just the date
    return str(int(Time(date).to_value(&#39;unix&#39;)))

# Get an astropy object, and retun a string with the time in epoch
def get_epoch_time(date_time):
    # Get just the date
    date = date_time.to_datetime()
    date = dt.datetime(date.year,date.month,date.day)

    # Subtract the date from the original datetime to get the time
    time = date_time.to_datetime() - date

    return str(time.seconds)

class bcolors:
    HEADER = &#39;\033[95m&#39;
    OKBLUE = &#39;\033[94m&#39;
    OKCYAN = &#39;\033[96m&#39;
    OKGREEN = &#39;\033[92m&#39;
    WARNING = &#39;\033[93m&#39;
    FAIL = &#39;\033[91m&#39;
    ENDC = &#39;\033[0m&#39;
    BOLD = &#39;\033[1m&#39;
    UNDERLINE = &#39;\033[4m&#39;

# Send a data download request using REST
class RestOperations:
    &#34;&#34;&#34;Send a data download request using the REST Protocol
    &#34;&#34;&#34;
    # Initialize with the link
    def __init__(self, apiEndPoint, **kwargs):
        &#34;&#34;&#34;Constructor

        Args:
            apiEndPoint (string): the url needed to make the request
        &#34;&#34;&#34;
        self.apiEndPoint = apiEndPoint
        self.kwargs = kwargs
    
    def SendGetReq(self):
        &#34;&#34;&#34;Send a download request to the URL

        Returns:
            json: A json file with all the downloaded data
        &#34;&#34;&#34;
        # Get the needed authorization information
        auth = self.CallAuth(self.kwargs)

        # Make the request
        RespGetReq = requests.get(self.apiEndPoint, auth = auth, stream=True)

        # Check for errors
        if RespGetReq.status_code != 200:
            RespGetReq.raise_for_status()
            raise RuntimeError(f&#34;Request to {self.apiEndPoint} returned status code {RespGetReq.status_code}&#34;)

        # Convert the output to a json and return
        return json.loads(RespGetReq.text)

    def CallAuth(self, OptionalAttrs):
        &#34;&#34;&#34;Handle authorization stuff

        Args:
            OptionalAttrs (_type_): The necessary arguments needed for the type of authorization

        Returns:
            auth: An authorization object
        &#34;&#34;&#34;
        authType = self.ValidateAuthAttrs(OptionalAttrs)
        if not authType:
            auth = None            
        elif authType == &#39;token&#39;:
            auth = HTTPBearerAuth(OptionalAttrs.get(&#39;token&#39;))
        elif authType == &#39;basic&#39;:
            auth = HTTPBasicAuth(OptionalAttrs.get(&#39;username&#39;), OptionalAttrs.get(&#39;password&#39;))
        elif authType  == &#39;digest&#39;:
            auth = HTTPDigestAuth(OptionalAttrs.get(&#39;username&#39;), OptionalAttrs.get(&#39;password&#39;))
        elif authType  == &#39;oa1&#39;:
            auth = OAuth1(OptionalAttrs.get(&#39;AppKey&#39;), OptionalAttrs.get(&#39;AppSecret&#39;), OptionalAttrs.get(&#39;UserToken&#39;), OptionalAttrs.get(&#39;UserSecret&#39;))
        return auth
    
    def ValidateAuthAttrs(self, OptionalAttrs):
        &#34;&#34;&#34;Make sure the optinal attributes of this class exist
        &#34;&#34;&#34;
        if &#39;authType&#39; not in OptionalAttrs:
            authType = None
        else:
            if OptionalAttrs.get(&#39;authType&#39;) not in [&#39;token&#39;, &#39;digest&#39;, &#39;basic&#39;, &#39;oa1&#39;]:
                raise ValueError(&#34;Unknown authType received&#34;, OptionalAttrs.get(&#39;authType&#39;))
            else:
                if OptionalAttrs.get(&#39;authType&#39;) == &#39;token&#39; and &#39;token&#39; not in OptionalAttrs:
                    raise ValueError(&#34;authType &#39;token&#39; requires token&#34;)
                elif OptionalAttrs.get(&#39;authType&#39;) == &#39;basic&#39; and not all(attr in OptionalAttrs for attr in [&#39;username&#39;, &#39;password&#39;]):
                    raise ValueError(&#34;authType &#39;basic&#39; requires username, password&#34;)
                elif OptionalAttrs.get(&#39;authType&#39;) == &#39;digest&#39; and not all(attr in OptionalAttrs for attr in [&#39;username&#39;, &#39;password&#39;]):
                    raise ValueError(&#34;authType &#39;digest&#39; requires username, password&#34;)
                elif OptionalAttrs.get(&#39;authType&#39;) == &#39;oa1&#39; and not all(attr in OptionalAttrs for attr in [&#39;AppKey&#39;, &#39;AppSecret&#39;, &#39;UserToken&#39; &#39;UserSecret&#39;]):
                    raise ValueError(&#34;authType &#39;oa1&#39; requires AppKey, AppSecret, UserToken, UserSecret&#34;)
                else:
                    authType = OptionalAttrs.get(&#39;authType&#39;)
        return authType

class HTTPBearerAuth(requests.auth.AuthBase):
    &#39;&#39;&#39;requests() does not support HTTP Bearer tokens authentication, create one&#39;&#39;&#39;
    def __init__(self, token):
        self.token = token
    def __eq__(self, other):
        return self.token == getattr(other, &#39;token&#39;, None)
    def __ne__(self, other):
        return not self == other
    def __call__(self, r):
        r.headers[&#39;Authorization&#39;] = &#39;Bearer &#39; + self.token
        return r</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="raadpy.core.get_epoch_date"><code class="name flex">
<span>def <span class="ident">get_epoch_date</span></span>(<span>date_time)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_epoch_date(date_time):
    # Convert to datetime
    date = date_time.to_datetime()
    date = dt.datetime(date.year,date.month,date.day)

    # Return a string with just the date
    return str(int(Time(date).to_value(&#39;unix&#39;)))</code></pre>
</details>
</dd>
<dt id="raadpy.core.get_epoch_time"><code class="name flex">
<span>def <span class="ident">get_epoch_time</span></span>(<span>date_time)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_epoch_time(date_time):
    # Get just the date
    date = date_time.to_datetime()
    date = dt.datetime(date.year,date.month,date.day)

    # Subtract the date from the original datetime to get the time
    time = date_time.to_datetime() - date

    return str(time.seconds)</code></pre>
</details>
</dd>
<dt id="raadpy.core.in_range"><code class="name flex">
<span>def <span class="ident">in_range</span></span>(<span>longitude)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def in_range(longitude):
    return longitude if longitude &lt;= 180 else longitude - 360</code></pre>
</details>
</dd>
<dt id="raadpy.core.unique"><code class="name flex">
<span>def <span class="ident">unique</span></span>(<span>l: list)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def unique(l:list):
    return list(dict.fromkeys(l))</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="raadpy.core.HTTPBearerAuth"><code class="flex name class">
<span>class <span class="ident">HTTPBearerAuth</span></span>
<span>(</span><span>token)</span>
</code></dt>
<dd>
<div class="desc"><p>requests() does not support HTTP Bearer tokens authentication, create one</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class HTTPBearerAuth(requests.auth.AuthBase):
    &#39;&#39;&#39;requests() does not support HTTP Bearer tokens authentication, create one&#39;&#39;&#39;
    def __init__(self, token):
        self.token = token
    def __eq__(self, other):
        return self.token == getattr(other, &#39;token&#39;, None)
    def __ne__(self, other):
        return not self == other
    def __call__(self, r):
        r.headers[&#39;Authorization&#39;] = &#39;Bearer &#39; + self.token
        return r</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>requests.auth.AuthBase</li>
</ul>
</dd>
<dt id="raadpy.core.RestOperations"><code class="flex name class">
<span>class <span class="ident">RestOperations</span></span>
<span>(</span><span>apiEndPoint, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Send a data download request using the REST Protocol</p>
<p>Constructor</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>apiEndPoint</code></strong> :&ensp;<code>string</code></dt>
<dd>the url needed to make the request</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RestOperations:
    &#34;&#34;&#34;Send a data download request using the REST Protocol
    &#34;&#34;&#34;
    # Initialize with the link
    def __init__(self, apiEndPoint, **kwargs):
        &#34;&#34;&#34;Constructor

        Args:
            apiEndPoint (string): the url needed to make the request
        &#34;&#34;&#34;
        self.apiEndPoint = apiEndPoint
        self.kwargs = kwargs
    
    def SendGetReq(self):
        &#34;&#34;&#34;Send a download request to the URL

        Returns:
            json: A json file with all the downloaded data
        &#34;&#34;&#34;
        # Get the needed authorization information
        auth = self.CallAuth(self.kwargs)

        # Make the request
        RespGetReq = requests.get(self.apiEndPoint, auth = auth, stream=True)

        # Check for errors
        if RespGetReq.status_code != 200:
            RespGetReq.raise_for_status()
            raise RuntimeError(f&#34;Request to {self.apiEndPoint} returned status code {RespGetReq.status_code}&#34;)

        # Convert the output to a json and return
        return json.loads(RespGetReq.text)

    def CallAuth(self, OptionalAttrs):
        &#34;&#34;&#34;Handle authorization stuff

        Args:
            OptionalAttrs (_type_): The necessary arguments needed for the type of authorization

        Returns:
            auth: An authorization object
        &#34;&#34;&#34;
        authType = self.ValidateAuthAttrs(OptionalAttrs)
        if not authType:
            auth = None            
        elif authType == &#39;token&#39;:
            auth = HTTPBearerAuth(OptionalAttrs.get(&#39;token&#39;))
        elif authType == &#39;basic&#39;:
            auth = HTTPBasicAuth(OptionalAttrs.get(&#39;username&#39;), OptionalAttrs.get(&#39;password&#39;))
        elif authType  == &#39;digest&#39;:
            auth = HTTPDigestAuth(OptionalAttrs.get(&#39;username&#39;), OptionalAttrs.get(&#39;password&#39;))
        elif authType  == &#39;oa1&#39;:
            auth = OAuth1(OptionalAttrs.get(&#39;AppKey&#39;), OptionalAttrs.get(&#39;AppSecret&#39;), OptionalAttrs.get(&#39;UserToken&#39;), OptionalAttrs.get(&#39;UserSecret&#39;))
        return auth
    
    def ValidateAuthAttrs(self, OptionalAttrs):
        &#34;&#34;&#34;Make sure the optinal attributes of this class exist
        &#34;&#34;&#34;
        if &#39;authType&#39; not in OptionalAttrs:
            authType = None
        else:
            if OptionalAttrs.get(&#39;authType&#39;) not in [&#39;token&#39;, &#39;digest&#39;, &#39;basic&#39;, &#39;oa1&#39;]:
                raise ValueError(&#34;Unknown authType received&#34;, OptionalAttrs.get(&#39;authType&#39;))
            else:
                if OptionalAttrs.get(&#39;authType&#39;) == &#39;token&#39; and &#39;token&#39; not in OptionalAttrs:
                    raise ValueError(&#34;authType &#39;token&#39; requires token&#34;)
                elif OptionalAttrs.get(&#39;authType&#39;) == &#39;basic&#39; and not all(attr in OptionalAttrs for attr in [&#39;username&#39;, &#39;password&#39;]):
                    raise ValueError(&#34;authType &#39;basic&#39; requires username, password&#34;)
                elif OptionalAttrs.get(&#39;authType&#39;) == &#39;digest&#39; and not all(attr in OptionalAttrs for attr in [&#39;username&#39;, &#39;password&#39;]):
                    raise ValueError(&#34;authType &#39;digest&#39; requires username, password&#34;)
                elif OptionalAttrs.get(&#39;authType&#39;) == &#39;oa1&#39; and not all(attr in OptionalAttrs for attr in [&#39;AppKey&#39;, &#39;AppSecret&#39;, &#39;UserToken&#39; &#39;UserSecret&#39;]):
                    raise ValueError(&#34;authType &#39;oa1&#39; requires AppKey, AppSecret, UserToken, UserSecret&#34;)
                else:
                    authType = OptionalAttrs.get(&#39;authType&#39;)
        return authType</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="raadpy.core.RestOperations.CallAuth"><code class="name flex">
<span>def <span class="ident">CallAuth</span></span>(<span>self, OptionalAttrs)</span>
</code></dt>
<dd>
<div class="desc"><p>Handle authorization stuff</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>OptionalAttrs</code></strong> :&ensp;<code>_type_</code></dt>
<dd>The necessary arguments needed for the type of authorization</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>auth</code></dt>
<dd>An authorization object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def CallAuth(self, OptionalAttrs):
    &#34;&#34;&#34;Handle authorization stuff

    Args:
        OptionalAttrs (_type_): The necessary arguments needed for the type of authorization

    Returns:
        auth: An authorization object
    &#34;&#34;&#34;
    authType = self.ValidateAuthAttrs(OptionalAttrs)
    if not authType:
        auth = None            
    elif authType == &#39;token&#39;:
        auth = HTTPBearerAuth(OptionalAttrs.get(&#39;token&#39;))
    elif authType == &#39;basic&#39;:
        auth = HTTPBasicAuth(OptionalAttrs.get(&#39;username&#39;), OptionalAttrs.get(&#39;password&#39;))
    elif authType  == &#39;digest&#39;:
        auth = HTTPDigestAuth(OptionalAttrs.get(&#39;username&#39;), OptionalAttrs.get(&#39;password&#39;))
    elif authType  == &#39;oa1&#39;:
        auth = OAuth1(OptionalAttrs.get(&#39;AppKey&#39;), OptionalAttrs.get(&#39;AppSecret&#39;), OptionalAttrs.get(&#39;UserToken&#39;), OptionalAttrs.get(&#39;UserSecret&#39;))
    return auth</code></pre>
</details>
</dd>
<dt id="raadpy.core.RestOperations.SendGetReq"><code class="name flex">
<span>def <span class="ident">SendGetReq</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Send a download request to the URL</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>json</code></dt>
<dd>A json file with all the downloaded data</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def SendGetReq(self):
    &#34;&#34;&#34;Send a download request to the URL

    Returns:
        json: A json file with all the downloaded data
    &#34;&#34;&#34;
    # Get the needed authorization information
    auth = self.CallAuth(self.kwargs)

    # Make the request
    RespGetReq = requests.get(self.apiEndPoint, auth = auth, stream=True)

    # Check for errors
    if RespGetReq.status_code != 200:
        RespGetReq.raise_for_status()
        raise RuntimeError(f&#34;Request to {self.apiEndPoint} returned status code {RespGetReq.status_code}&#34;)

    # Convert the output to a json and return
    return json.loads(RespGetReq.text)</code></pre>
</details>
</dd>
<dt id="raadpy.core.RestOperations.ValidateAuthAttrs"><code class="name flex">
<span>def <span class="ident">ValidateAuthAttrs</span></span>(<span>self, OptionalAttrs)</span>
</code></dt>
<dd>
<div class="desc"><p>Make sure the optinal attributes of this class exist</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def ValidateAuthAttrs(self, OptionalAttrs):
    &#34;&#34;&#34;Make sure the optinal attributes of this class exist
    &#34;&#34;&#34;
    if &#39;authType&#39; not in OptionalAttrs:
        authType = None
    else:
        if OptionalAttrs.get(&#39;authType&#39;) not in [&#39;token&#39;, &#39;digest&#39;, &#39;basic&#39;, &#39;oa1&#39;]:
            raise ValueError(&#34;Unknown authType received&#34;, OptionalAttrs.get(&#39;authType&#39;))
        else:
            if OptionalAttrs.get(&#39;authType&#39;) == &#39;token&#39; and &#39;token&#39; not in OptionalAttrs:
                raise ValueError(&#34;authType &#39;token&#39; requires token&#34;)
            elif OptionalAttrs.get(&#39;authType&#39;) == &#39;basic&#39; and not all(attr in OptionalAttrs for attr in [&#39;username&#39;, &#39;password&#39;]):
                raise ValueError(&#34;authType &#39;basic&#39; requires username, password&#34;)
            elif OptionalAttrs.get(&#39;authType&#39;) == &#39;digest&#39; and not all(attr in OptionalAttrs for attr in [&#39;username&#39;, &#39;password&#39;]):
                raise ValueError(&#34;authType &#39;digest&#39; requires username, password&#34;)
            elif OptionalAttrs.get(&#39;authType&#39;) == &#39;oa1&#39; and not all(attr in OptionalAttrs for attr in [&#39;AppKey&#39;, &#39;AppSecret&#39;, &#39;UserToken&#39; &#39;UserSecret&#39;]):
                raise ValueError(&#34;authType &#39;oa1&#39; requires AppKey, AppSecret, UserToken, UserSecret&#34;)
            else:
                authType = OptionalAttrs.get(&#39;authType&#39;)
    return authType</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="raadpy.core.bcolors"><code class="flex name class">
<span>class <span class="ident">bcolors</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class bcolors:
    HEADER = &#39;\033[95m&#39;
    OKBLUE = &#39;\033[94m&#39;
    OKCYAN = &#39;\033[96m&#39;
    OKGREEN = &#39;\033[92m&#39;
    WARNING = &#39;\033[93m&#39;
    FAIL = &#39;\033[91m&#39;
    ENDC = &#39;\033[0m&#39;
    BOLD = &#39;\033[1m&#39;
    UNDERLINE = &#39;\033[4m&#39;</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="raadpy.core.bcolors.BOLD"><code class="name">var <span class="ident">BOLD</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.ENDC"><code class="name">var <span class="ident">ENDC</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.FAIL"><code class="name">var <span class="ident">FAIL</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.HEADER"><code class="name">var <span class="ident">HEADER</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.OKBLUE"><code class="name">var <span class="ident">OKBLUE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.OKCYAN"><code class="name">var <span class="ident">OKCYAN</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.OKGREEN"><code class="name">var <span class="ident">OKGREEN</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.UNDERLINE"><code class="name">var <span class="ident">UNDERLINE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="raadpy.core.bcolors.WARNING"><code class="name">var <span class="ident">WARNING</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="raadpy" href="index.html">raadpy</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="raadpy.core.get_epoch_date" href="#raadpy.core.get_epoch_date">get_epoch_date</a></code></li>
<li><code><a title="raadpy.core.get_epoch_time" href="#raadpy.core.get_epoch_time">get_epoch_time</a></code></li>
<li><code><a title="raadpy.core.in_range" href="#raadpy.core.in_range">in_range</a></code></li>
<li><code><a title="raadpy.core.unique" href="#raadpy.core.unique">unique</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="raadpy.core.HTTPBearerAuth" href="#raadpy.core.HTTPBearerAuth">HTTPBearerAuth</a></code></h4>
</li>
<li>
<h4><code><a title="raadpy.core.RestOperations" href="#raadpy.core.RestOperations">RestOperations</a></code></h4>
<ul class="">
<li><code><a title="raadpy.core.RestOperations.CallAuth" href="#raadpy.core.RestOperations.CallAuth">CallAuth</a></code></li>
<li><code><a title="raadpy.core.RestOperations.SendGetReq" href="#raadpy.core.RestOperations.SendGetReq">SendGetReq</a></code></li>
<li><code><a title="raadpy.core.RestOperations.ValidateAuthAttrs" href="#raadpy.core.RestOperations.ValidateAuthAttrs">ValidateAuthAttrs</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="raadpy.core.bcolors" href="#raadpy.core.bcolors">bcolors</a></code></h4>
<ul class="two-column">
<li><code><a title="raadpy.core.bcolors.BOLD" href="#raadpy.core.bcolors.BOLD">BOLD</a></code></li>
<li><code><a title="raadpy.core.bcolors.ENDC" href="#raadpy.core.bcolors.ENDC">ENDC</a></code></li>
<li><code><a title="raadpy.core.bcolors.FAIL" href="#raadpy.core.bcolors.FAIL">FAIL</a></code></li>
<li><code><a title="raadpy.core.bcolors.HEADER" href="#raadpy.core.bcolors.HEADER">HEADER</a></code></li>
<li><code><a title="raadpy.core.bcolors.OKBLUE" href="#raadpy.core.bcolors.OKBLUE">OKBLUE</a></code></li>
<li><code><a title="raadpy.core.bcolors.OKCYAN" href="#raadpy.core.bcolors.OKCYAN">OKCYAN</a></code></li>
<li><code><a title="raadpy.core.bcolors.OKGREEN" href="#raadpy.core.bcolors.OKGREEN">OKGREEN</a></code></li>
<li><code><a title="raadpy.core.bcolors.UNDERLINE" href="#raadpy.core.bcolors.UNDERLINE">UNDERLINE</a></code></li>
<li><code><a title="raadpy.core.bcolors.WARNING" href="#raadpy.core.bcolors.WARNING">WARNING</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.8.1</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>